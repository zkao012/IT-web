!function(o){"use strict";var s=0;function i(t){for(var e in this.props={title:"",body:"",footer:"",modalClass:"fade",modalDialogClass:"",options:null,onCreate:null,onDispose:null,onSubmit:null,backdrop:true},t)this.props[e]=t[e];this.id="bootstrap-show-modal-"+s,s++,this.show()}i.prototype.createContainerElement=function(){var t=this;this.element=document.createElement("div"),this.element.id=this.id,this.element.setAttribute("class","modal "+this.props.modalClass),this.element.setAttribute("tabindex","-1"),this.element.setAttribute("aria-labelledby",this.id),this.element.innerHTML='<div class="modal-dialog '+this.props.modalDialogClass+'"><div class="modal-content"><div class="modal-header"><h5 class="modal-title"></h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"></div><div class="modal-footer"></div></div></div>',document.body.appendChild(this.element),this.titleElement=this.element.querySelector(".modal-title"),this.bodyElement=this.element.querySelector(".modal-body"),this.footerElement=this.element.querySelector(".modal-footer"),this.element.addEventListener("hidden.bs.modal",function(){t.dispose()}),this.props.onCreate&&this.props.onCreate(this)},i.prototype.show=function(){if(!this.element){this.createContainerElement()}var opts={backdrop:this.props.backdrop!==undefined?this.props.backdrop:true};if(this.props.options){for(var k in this.props.options){opts[k]=this.props.options[k]}}if(!this.bsModal){this.bsModal=new bootstrap.Modal(this.element,opts)}this.bsModal.show();if(this.props.title){this.titleElement.style.display="";this.titleElement.innerHTML=this.props.title}else{this.titleElement.style.display="none"}if(this.props.body){this.bodyElement.style.display="";this.bodyElement.innerHTML=this.props.body}else{this.bodyElement.style.display="none"}if(this.props.footer){this.footerElement.style.display="";this.footerElement.innerHTML=this.props.footer}else{this.footerElement.style.display="none"}},i.prototype.hide=function(){if(this.bsModal){this.bsModal.hide()}},i.prototype.dispose=function(){if(this.bsModal){this.bsModal.dispose();this.bsModal=null}if(this.element&&this.element.parentNode){this.element.parentNode.removeChild(this.element)}this.props.onDispose&&this.props.onDispose(this)},o.extend({showModal:function(t){if(t.buttons){var e,f="";for(e in t.buttons){f+='<button type="button" class="btn btn-primary" data-value="'+e+'" data-bs-dismiss="modal">'+t.buttons[e]+"</button>"}t.footer=f}return new i(t)},showAlert:function(t){return t.buttons={OK:"OK"},this.showModal(t)},showConfirm:function(t){return t.footer='<button class="btn btn-secondary btn-false btn-cancel">'+t.textFalse+'</button><button class="btn btn-primary btn-true">'+t.textTrue+"</button>",t.onCreate=function(e){o(e.element).on("click",".btn",function(t){t.preventDefault(),e.hide(),e.props.onSubmit(-1!==t.target.getAttribute("class").indexOf("btn-true"),e)})},this.showModal(t)}})}(jQuery);
